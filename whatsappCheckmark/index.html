<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Convert raw text to a checklist poll in whatsapp web</title>
        <style>
            * {
                font-weight: normal;
                color: #f4f6f8;
                background: #202124;
            }
            #a:link,
            #a:visited {
                background-color: inherit;
                color: white;
                border: 2px solid #4c56af;
                padding: 10px 20px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
            }

            #a:hover,
            #a:active {
                background-color: #4c56af;
                color: white;
            }
        </style>
    </head>
    <body>
        <h1>How to convert raw text to a checklist poll in whatsapp web!</h1>
        <h3>hold the button, drag and drop it to bookmarks</h3>
        <a id="a" href="javascript:(async()=>{async%20function%20s(a){a.focus();a.dispatchEvent(new%20KeyboardEvent(%27keydown%27,{key:%27Control%27,code:%27ControlLeft%27,ctrlKey:true,bubbles:true}));a.dispatchEvent(new%20KeyboardEvent(%27keydown%27,{key:%27a%27,code:%27KeyA%27,ctrlKey:true,bubbles:true}));a.dispatchEvent(new%20KeyboardEvent(%27keyup%27,{key:%27a%27,code:%27KeyA%27,ctrlKey:true,bubbles:true}));a.dispatchEvent(new%20KeyboardEvent(%27keyup%27,{key:%27Control%27,code:%27ControlLeft%27,bubbles:true}));await%20new%20Promise(r=>setTimeout(r,100));a.dispatchEvent(new%20KeyboardEvent(%27keydown%27,{key:%27Delete%27,code:%27Delete%27,bubbles:true}));a.dispatchEvent(new%20KeyboardEvent(%27keypress%27,{key:%27Delete%27,code:%27Delete%27,bubbles:true}));a.dispatchEvent(new%20KeyboardEvent(%27keyup%27,{key:%27Delete%27,code:%27Delete%27,bubbles:true}));a.dispatchEvent(new%20InputEvent(%27input%27,{bubbles:true}))}async%20function%20t(a,b,d=50){a.focus();await%20new%20Promise(r=>setTimeout(r,d));document.execCommand(%22insertText%22,false,b);await%20new%20Promise(r=>setTimeout(r,d));a.dispatchEvent(new%20InputEvent(%22input%22,{bubbles:true}))}function%20c(a,b=12){const%20r=[];for(let%20i=0;i<a.length;i+=b)r.push(a.slice(i,i+b));return%20r}async%20function%20sp(d){document.querySelector(%27span[data-icon=%22send%22]%27).click();await%20new%20Promise(r=>setTimeout(r,d))}async%20function%20np(d){document.querySelector(%27span[data-icon=%22plus%22]%27).click();await%20new%20Promise(r=>setTimeout(r,d));const%20x=%22//span[text()=%27Poll%27]%22;const%20p=document.evaluate(x,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;p.click();await%20new%20Promise(r=>setTimeout(r,d))}async%20function%20f(){const%20e=document.querySelectorAll(%22[contenteditable=true]%22)[1];const%20s=e.innerText;await%20s(e);const%20l=s.split(%27%5Cn%27).map(x=>x.trim()).filter(x=>x!=%27%27);const%20k=c(l);const%20d=2000;for(let%20j=0;j<k.length;j++){await%20np(d);const%20q=document.querySelectorAll(%27[contenteditable=true]%27)[0];await%20t(q,`${j+1}/${k.length}`);const%20m=document.querySelectorAll(%27[contenteditable=true]%27)[1].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;const%20a=k[j];for(let%20i=0;i<a.length;i++){const%20el=m.childNodes[i].querySelector(%27[contenteditable=true]%27);await%20t(el,a[i])}await%20sp(d)}}f();})()"
            >Whatsapp Checklist Converter</a>
        <h3>Download src <a href="./code.js">here</a></h3>
    </body>
</html>
