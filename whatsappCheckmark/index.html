<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Convert raw text to a checklist poll in whatsapp web</title>
        <style>
            * {
                font-weight: normal;
                color: #f4f6f8;
                background: #202124;
            }
            #a:link,
            #a:visited {
                background-color: inherit;
                color: white;
                border: 2px solid #4c56af;
                padding: 10px 20px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
            }

            #a:hover,
            #a:active {
                background-color: #4c56af;
                color: white;
            }
        </style>
    </head>
    <body>
        <h1>How to convert raw text to a checklist poll in whatsapp web!</h1>
        <h3>hold the button, drag and drop it to bookmarks!!</h3>
        <a id='a'
            href="javascript:(async()=>{async function sAllDel(e){e.focus();e.dispatchEvent(new KeyboardEvent('keydown',{key:'Control',code:'ControlLeft',ctrlKey:true,bubbles:true}));e.dispatchEvent(new KeyboardEvent('keydown',{key:'a',code:'KeyA',ctrlKey:true,bubbles:true}));e.dispatchEvent(new KeyboardEvent('keyup',{key:'a',code:'KeyA',ctrlKey:true,bubbles:true}));e.dispatchEvent(new KeyboardEvent('keyup',{key:'Control',code:'ControlLeft',bubbles:true}));await new Promise(r=>setTimeout(r,100));e.dispatchEvent(new KeyboardEvent('keydown',{key:'Delete',code:'Delete',bubbles:true}));e.dispatchEvent(new KeyboardEvent('keypress',{key:'Delete',code:'Delete',bubbles:true}));e.dispatchEvent(new KeyboardEvent('keyup',{key:'Delete',code:'Delete',bubbles:true}));e.dispatchEvent(new InputEvent('input',{bubbles:true}))}async function typeIn(e,t,d=50){e.focus();await new Promise(r=>setTimeout(r,d));document.execCommand('insertText',false,t);await new Promise(r=>setTimeout(r,d));e.dispatchEvent(new InputEvent('input',{bubbles:true}))}function chunk(a,s=12){let r=[];for(let i=0;i<a.length;i+=s)r.push(a.slice(i,i+s));return r}async function submit(d){document.querySelector('.x78zum5.x6s0dn4.xl56j7k.xexx8yu.xyri2b.x18d9i69.x1c1uobl.x1f6kntn.xk50ysn.x7o08j2.xtvhhri.x1rluvsa.x14yjl9h.xudhj91.x18nykt9.xww2gxu.xu306ak.xwwtwea.x1gfkgh9.x1247r65.xng8ra.x1cb1t30.x1ys307a.xs2xxs2.x1d8287x').click();await new Promise(r=>setTimeout(r,d))}async function newP(d){document.querySelector('.x100vrsf.x1vqgdyp.x78zum5.x6s0dn4').childNodes[0].click();await new Promise(r=>setTimeout(r,d));document.querySelectorAll('.x1c4vz4f.xs83m0k.xdl72j9.x1g77sc7.x78zum5.xozqiw3.x1oa3qoh.x12fk4p8.xeuugli.x2lwn1j.x1nhvcw1.x1q0g3np.x6s0dn4.x1ypdohk.x1vqgdyp.x13fj5qh.x1dqj196')[5].click();await new Promise(r=>setTimeout(r,d))}const e=document.querySelectorAll('[contenteditable=true]')[1];const str=e.innerText;await sAllDel(e);const tasks=chunk(str.split('\n').map(s=>s.trim()).filter(x=>x!=''));const delay=2000;for(let j=0;j<tasks.length;j++){await newP(delay);const q=document.querySelectorAll('[contenteditable=true]')[0];await typeIn(q,`${j+1}/${tasks.length}`);const m=document.querySelectorAll('[contenteditable=true]')[1].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;for(let i=0;i<tasks[j].length;i++){const c=m.childNodes[i].querySelector('[contenteditable=true]');await typeIn(c,tasks[j][i])}await submit(delay)}})();"
            >Whatsapp Checklist Converter</a
        >
        <h3>Download src <a href="./code.js">here</a></h3>
    </body>
</html>
