<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Convert raw text to a checklist poll in whatsapp web</title>
        <style>
            * {
                font-weight: normal;
                color: #f4f6f8;
                background: #202124;
            }
            #a:link,
            #a:visited {
                background-color: inherit;
                color: white;
                border: 2px solid #4c56af;
                padding: 10px 20px;
                text-align: center;
                text-decoration: none;
                display: inline-block;
            }

            #a:hover,
            #a:active {
                background-color: #4c56af;
                color: white;
            }
        </style>
    </head>
    <body>
        <h1>How to convert raw text to a checklist poll in whatsapp web!</h1>
        <h3>hold the button, drag and drop it to bookmarks</h3>
        <a id="a" href="javascript:(async()=>{async function e(e){e.focus(),e.dispatchEvent(new KeyboardEvent('keydown',{key:'Control',code:'ControlLeft',ctrlKey:!0,bubbles:!0})),e.dispatchEvent(new KeyboardEvent('keydown',{key:'a',code:'KeyA',ctrlKey:!0,bubbles:!0})),e.dispatchEvent(new KeyboardEvent('keyup',{key:'a',code:'KeyA',ctrlKey:!0,bubbles:!0})),e.dispatchEvent(new KeyboardEvent('keyup',{key:'Control',code:'ControlLeft',bubbles:!0})),await new Promise(t=>setTimeout(t,100)),e.dispatchEvent(new KeyboardEvent('keydown',{key:'Delete',code:'Delete',bubbles:!0})),e.dispatchEvent(new KeyboardEvent('keypress',{key:'Delete',code:'Delete',bubbles:!0})),e.dispatchEvent(new KeyboardEvent('keyup',{key:'Delete',code:'Delete',bubbles:!0})),e.dispatchEvent(new InputEvent('input',{bubbles:!0}))}async function t(e,t=50){e.focus(),await new Promise(n=>setTimeout(n,t)),document.execCommand('insertText',!1,t),await new Promise(n=>setTimeout(n,t)),e.dispatchEvent(new InputEvent('input',{bubbles:!0}))}function n(e,t=12){const n=[];for(let o=0;o<e.length;o+=t)n.push(e.slice(o,o+t));return n}async function o(e){document.querySelector('span[data-icon=&quot;send&quot;]').click(),await new Promise(t=>setTimeout(t,e))}async function a(e){document.querySelector('span[data-icon=&quot;plus&quot;]').click(),await new Promise(t=>setTimeout(t,e));const n=&quot;//span[text()=&apos;Poll&apos;]&quot;,o=document.evaluate(n,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;o.click(),await new Promise(t=>setTimeout(t,e))}async function c(){const c=document.querySelectorAll('[contenteditable=true]')[1],i=c.innerText;await e(c);const l=n(i.split('\n').map(e=>e.trim()).filter(e=>''!=e)),d=2e3;for(let s=0;s<l.length;s++){await a(d);let r=document.querySelectorAll('[contenteditable=true]')[0];await t(r,`${s+1}/${l.length}`);let u=document.querySelectorAll('[contenteditable=true]')[1].parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement;const m=l[s];for(let f=0;f<m.length;f++){const y=u.childNodes[f].querySelector('[contenteditable=true]');await t(y,m[f])}await o(d)}}c()})();"
            >Whatsapp Checklist Converter</a>
        <h3>Download src <a href="./code.js">here</a></h3>
    </body>
</html>
